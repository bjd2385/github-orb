description: Increment a repository's tag.
executor: default
resource_class: small
parameters:
  ssh-key:
    description: GitHub repository's SSH key (must be r/w).
    type: string
steps:
  - checkout
  - add_ssh_keys:
      fingerprints:
        - << parameters.ssh-key >>
  - run:
      name: Autoincrement repository's latest tag minor version
      command: << include(scripts/increment-tag.sh) >>
